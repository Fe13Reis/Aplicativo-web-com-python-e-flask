<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="utf-8">
    <title>Agenda Churrasqueira</title>

      <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">

    <!--Importar o calendario e o estilo-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fullcalendar@5.10.0/main.min.css">
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@5.10.0/main.min.js"></script>
</head>
<body style="background: linear-gradient(50deg,rgb(174, 222, 236),rgb(35, 13, 158));">
  <div class="container" style="text-align: center;">

    <div style="width: 100%; display: block; margin-left: auto; margin-right: auto; background-color: white; padding: 15px; margin-bottom: 20px;">
      <form method="POST" action="{{ url_for('agendarEspaco') }}" style="background-color: blue;">                   
          {% with messages = get_flashed_messages() %}
                {% if messages %}
                    <ul id="messages" class="list-unstyled">
                    {% for message in messages %}
                        <li class="alert alert-success">{{ message }}</li>
                    {% endfor %}
                    </ul>
                {% endif %}
            {% endwith %}
          <h1 class="h3 mb-3 fw-normal" style="color: white;">Faça seu agendamento em data livre</h1>
          <div class="container">
          <table style="background-color: white; width: 100%;" >
            <tr>
              <td style="padding-left: 10px;">
                <label for="floatingInput">Escolhe a data:</label>
                <input type="date" class="form-control" name="data">
              </td>
              <td style="padding-left: 20px; padding-right: 20px">
                <label for="espaco">Escolhe um espaço:</label><br>
                <select name="espaco" id="espaco">
                  <option value="">_____________</option>
                  <option value="Churrasqueira">Churrasqueira</option>
                  <option value="Salão de Festa">Salão de Festa</option>
                  <option value="Piscina">Piscina</option>
                </select>
              </td>
              <td style="padding-right: 10px">
                <button class="w-100 btn btn-lg btn-primary" type="submit">Agendar agora</button>
              </td>
            </tr>
          </table>   
        </div>
      </form>
    </div>
  </div>
  <div id="calendar" style="width: 75%; display: block; margin-left: auto; margin-right: auto; background-color: white; padding: 15px;"></div>
  <script>
    let calendarEl = document.getElementById('calendar');
    let calendar = new FullCalendar.Calendar(calendarEl, {
      events : [
        {% for event in events %}
        {
          title : '{{event.todo}}',
          start : '{{event.date}}',
        },
        {% endfor %}
      ]
    });
    calendar.render();
  </script>

</body>
</html>